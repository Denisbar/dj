<!-- <div  style="border: 1px solid #dfdfdf;
  padding: 0.5rem;
  margin: 0 0 0.5rem;
  box-shadow: 1px 2px 10px rgba(0, 0, 0, 0.2);
  border-radius: 10px;"
 --><div ng-controller="DataManagerSearchResultController">
 
 
  <div ng-if="(!(user.isOwner || user.isCollaborator) && (total != 0))||(user.isOwner || user.isCollaborator)"
    style="border: 0.1rem solid #ddd; margin:0.2rem 0;">
    <h4 style="color: rgba(0, 0, 0, 0.6);background-color: #efefef; padding: 0 0.5em; margin:0;"> 
      <i class="{{icon_class}}" style="color: rgb(77, 174, 207);"></i> 
      {{title | translate}} &nbsp;({{total}})
    </h4>
    <div ng-if="user.isOwner || user.isCollaborator"
      class="row" style="margin:0.5em 0 0.2em; border-bottom: 0.1rem solid #ddd">
      <button 
               ng-click="openManageDialog()"
               class="button radius tiny toolbar right"
               style="margin:0rem 0.1rem 0.3rem 0.1rem;padding-top:0.2rem; padding-bottom:0.2rem;">
              <b>Manage Datasets...</b>       
      </button>
    </div>
    <center ng-if="query && total == 0" >
      <img src="./img/ajax-loader.gif"/>
    </center>
    <div ng-if="total>0" style=" padding: 0 0.5em 1em;">
      <div ng-repeat="item in result" style="border-bottom: 0.1rem solid #ddd; margin:0 0 1rem 0;">
      <h4 style="font-stretch: ultra-condensed; margin:0;">
        <img ng-if="lookup(item.dataset.source).icon" src="{{lookup(item.dataset.source).icon}}" width="24px" height="24px"/>
        <i ng-if="!lookup(item.dataset.source).icon" class="fi-database" style="color:#a0d3e8;font-size:x-large;"></i> 
        {{item.dataset.label | translate}}
        <span ng-if="item.dataset.status == 'private'" 
        style="   color: #f04124;
                  background-color: rgb(255, 237, 160);
                  font-size: medium;
                  font-weight: 900;
                  padding: 0 0.5em;
                  border: 0.1rem solid;
                  border-radius: 0.5em;
                  margin: 0.3em;"
        >
          Private
        </span>
      </h4>
      <div class="row" style="margin:0; border-bottom: 0.1rem solid #ddd">
        <button ng-if="user.isOwner || user.isCollaborator" 
                 ng-click="openManageDialog(item)"
                  class="button radius tiny secondary toolbar right"
                 style="margin:0rem 0.1rem 0.3rem 0.1rem;padding-top:0.2rem; padding-bottom:0.2rem;">
                Manage       
        </button>
       <!--  <button 
                 ng-click="openQueryDialog(item)"
                  class="button radius tiny secondary toolbar right"
                 style="margin:0rem 0.1rem 0.3rem 0.1rem;padding-top:0.2rem; padding-bottom:0.2rem;">
                Query       
        </button> -->
        <button 
                 ng-click="download(item)"
                  class="button radius tiny secondary toolbar right"
                 style="margin:0rem 0.1rem 0.3rem 0.1rem; padding-top:0.2rem; padding-bottom:0.2rem;">
                <a href="{{'./api/dataset/download/'+item.dataset.id}}" target="blank">
                  Download
                </a>       
        </button>
        <img  class="right" ng-if="item.download" src="./img/ajax-loader.gif" style="margin:0rem 0.1rem 0.3rem 0.1rem;">
      </div>
      <div style="margin:0 0 0 1.5em;">
        <div style=" font-size: small; text-align: justify;margin:0 0 0 0.1em;">
          <b>
            <widget-translate>NOTE</widget-translate>
          </b>:&nbsp;&nbsp;{{item.dataset.note | translate}}
        </div>  
        <div style=" font-size: small; text-align: justify;">
          <b>
            <widget-translate>SOURCE</widget-translate>
          </b>:&nbsp;&nbsp;
          <a ng-click="selectSource(item.dataset.source)">
            {{(lookup(item.dataset.source).label) ? lookup(item.dataset.source).label : item.dataset.source | translate}}
          </a>
        </div>
        <div style=" font-size: small; text-align: justify;">
          <b>
            <widget-translate>LAST_UPDATE</widget-translate>
          </b>:&nbsp;&nbsp;{{formatDate(item.dataset.commit.createdAt)}}  
        </div>
        <div style=" font-size: small; text-align: justify;">
          <b>
            <widget-translate>TOPICS</widget-translate>
          </b>:&nbsp;&nbsp;
          <span ng-repeat="topic in prepareTopics(item.dataset.topics)">
            <a ng-click="selectTopic(topic)">
              {{(lookup(topic).label) ? lookup(topic).label : topic | translate}}
            </a>&nbsp;,
          </span>
        </div>
      </div>

    <!-- <span ng-repeat="item in tagList">
      <a  style="font-size: smaller;">
      <img ng-if="item.lookup.icon" src="{{item.lookup.icon}}"/>
       {{(item.lookup.label)?item.lookup.label:item.tag | translate}}&nbsp;({{item.count}})
      </a>,&nbsp;
     --> <!-- </span> -->
    </div>
  </div>        
</div>

 